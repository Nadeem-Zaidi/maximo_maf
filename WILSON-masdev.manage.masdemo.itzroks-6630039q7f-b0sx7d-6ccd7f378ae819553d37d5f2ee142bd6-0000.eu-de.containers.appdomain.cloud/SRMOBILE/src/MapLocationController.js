/*
 * Licensed Materials - Property of IBM
 *
 * 5724-U18, 5737-M66
 *
 * (C) Copyright IBM Corp. 2021, 2022 All Rights Reserved
 *
 * US Government Users Restricted Rights - Use, duplication or
 * disclosure restricted by GSA ADP Schedule Contract with
 * IBM Corp.
 */

import MapDatasourceController from './MapDatasourceController';

class MapLocationController extends MapDatasourceController {
    retrieveLegends() {
        const legends = {
            CLUSTER: {
                url: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzNweCIgaGVpZ2h0PSIzNHB4IiB2aWV3Qm94PSIwIDAgMzMgMzQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+cGluLWNsdXN0ZXI8L3RpdGxlPgogICAgPGcgaWQ9Ildvcmstb3JkZXIsLW1hcC12aWV3LSh1cGRhdGVkLXMzMykiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJwaW4tY2x1c3RlciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE5Ljk0OTgxMSwgLTE0LjUwMDUwMCkiPgogICAgICAgICAgICA8cGF0aCBkPSJNNDAuMTM3NDYwNiwxNSBMNDAuMzAwOTU5NSwxNS4wMDE2MjA0IEM0Ni43MDMwOTgzLDE1LjA3ODA3ODcgNTEuOTExNjA2MSwyMC4yNDY5OTk5IDUyLDI2LjY4NTQxNzIgQzUxLjk5NzM4MDEsMjkuMDk3NjI5NiA1MS4yMzU1NjI5LDMxLjQ0NDQ0MTQgNDkuODI3NjU0MSwzMy4zOTUyNzUxIEw0OS42LDMzLjY5OTk2MjYgTDQwLDQ3LjcyOTA1MzUgTDM3LjQ3NzIyOTksNDQuMDQzIEw0My41NzgyMjk5LDM1LjEyNyBMNDMuNzcwOTYxMywzNC44NzE4MDI3IEM0NS41MDA0NjMzLDMyLjQ5NzAxMzEgNDYuNDM2ODAwNCwyOS42MzI3MzI1IDQ2LjQzOTk5ODYsMjYuNjg4MDY3MiBDNDYuMzczMDk5LDIxLjgwMzIxOTQgNDMuODg0NTg2OCwxNy41MzI1NTg3IDQwLjEzNzQ2MDYsMTUgWiBNNDQsMjYuNjg1NDE3MiBDNDMuOTk3MzgwMSwyOS4wOTc2Mjk2IDQzLjIzNTU2MjksMzEuNDQ0NDQxNCA0MS44Mjc2NTQxLDMzLjM5NTI3NTEgTDQxLjYsMzMuNjk5OTYyNiBMMzIsNDcuNzI5MDUzNSBMMjIuNCwzMy42OTk5NjI2IEMyMC44NDY3MzE1LDMxLjY5MTI5MzEgMjAuMDAyNzU3NywyOS4yMjQ1ODgxIDIwLDI2LjY4NTQxNzIgQzIwLjA4ODM5MzksMjAuMjQ2OTk5OSAyNS4yOTY5MDE3LDE1LjA3ODA3ODcgMzEuNjk5MDQwNSwxNS4wMDE2MjA0IEwzMiwxNS4wMDE3ODA4IEMzOC41MzkwODI0LDE0LjkxNjg1OTkgNDMuOTEwMjI1LDIwLjE0NjM5OTYgNDQsMjYuNjg1NDE3MiBaIiBpZD0iU2hhcGUiIGZpbGw9IiMzOTM5MzkiPjwvcGF0aD4KICAgICAgICAgICAgPGcgaWQ9Ik51bWJlci1vci1pY29uPyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEuNTAwMDAwLCAxNy4wMDAwMDApIj48L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=',
                offsetx: 10,
                offsety: 40,
                width: 36,
                height: 40
            },
            OPERATING: {
                url: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzVweCIgaGVpZ2h0PSI0MXB4IiB2aWV3Qm94PSIwIDAgMzUgNDEiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+cGluLWxvY2F0aW9uX2FjdGl2ZTwvdGl0bGU+CiAgICA8ZyBpZD0iV29yay1vcmRlciwtbWFwLXZpZXctKHVwZGF0ZWQtczMzKSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IjYuLUJhZGdlcy0rLVRhZ3MvTG9jYXRpb24tUGlucy8zMnB4L2RhcmstQ29weS0xOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE5Ljk0OTgxMSwgLTcuNTAwNTAwKSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMiwxNS4wMDEwMTk4IEMyNS40NjA5MTc2LDE0LjkxNjA5ODkgMjAuMDg5Nzc1LDIwLjE0NTYzODYgMjAsMjYuNjg0NjU2MSBDMjAuMDAyNzU3NywyOS4yMjM4MjcxIDIwLjg0NjczMTUsMzEuNjkwNTMyIDIyLjQsMzMuNjk5MjAxNiBMMzIsNDcuNzI4MjkyNSBMNDEuNiwzMy42OTkyMDE2IEM0My4xNTMyNjg1LDMxLjY5MDUzMiA0My45OTcyNDIzLDI5LjIyMzgyNzEgNDQsMjYuNjg0NjU2MSBDNDMuOTEwMjI1LDIwLjE0NTYzODYgMzguNTM5MDgyNCwxNC45MTYwOTg5IDMyLDE1LjAwMTAxOTggWiIgaWQ9IlBpbi1CYWNrZ3JvdW5kIiBmaWxsPSIjMzkzOTM5Ij48L3BhdGg+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEuNTAwMDAwLCAxNy4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJJY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzLjUwMDAwMCwgMy41MDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNywwLjg3NSBDMy42MTcyNTU5MSwwLjg3NSAwLjg3NSwzLjYxNzI1NTkxIDAuODc1LDcgQzAuODc1LDEwLjM4Mjc0NDEgMy42MTcyNTU5MSwxMy4xMjUgNywxMy4xMjUgQzEwLjM4Mjc0NDEsMTMuMTI1IDEzLjEyNSwxMC4zODI3NDQxIDEzLjEyNSw3IEMxMy4xMjUsNS4zNzU1NDkgMTIuNDc5Njg5NCwzLjgxNzYzMTI4IDExLjMzMTAyOSwyLjY2ODk3MDk3IEMxMC4xODIzNjg3LDEuNTIwMzEwNjUgOC42MjQ0NTEsMC44NzUgNywwLjg3NSBaIE03LDEyLjI1IEM0LjEwMDUwNTA2LDEyLjI1IDEuNzUsOS44OTk0OTQ5NCAxLjc1LDcgQzEuNzUsNC4xMDA1MDUwNiA0LjEwMDUwNTA2LDEuNzUgNywxLjc1IEM5Ljg5OTQ5NDk0LDEuNzUgMTIuMjUsNC4xMDA1MDUwNiAxMi4yNSw3IEMxMi4yNSw5Ljg5OTQ5NDk0IDkuODk5NDk0OTQsMTIuMjUgNywxMi4yNSBMNywxMi4yNSBaIE03LDQuMzc1IEM1LjU1MDI1MjUzLDQuMzc1IDQuMzc1LDUuNTUwMjUyNTMgNC4zNzUsNyBDNC4zNzUsOC40NDk3NDc0NyA1LjU1MDI1MjUzLDkuNjI1IDcsOS42MjUgQzguNDQ5NzQ3NDcsOS42MjUgOS42MjUsOC40NDk3NDc0NyA5LjYyNSw3IEM5LjYyNSw1LjU1MDI1MjUzIDguNDQ5NzQ3NDcsNC4zNzUgNyw0LjM3NSBaIiBpZD0iRmlsbCI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxnIGlkPSJPdmFsLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCA4LjAwMDAwMCkiIGZpbGw9IiMzOTM5MzkiPgogICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iNDkiIGN5PSI1IiByPSI1Ij48L2NpcmNsZT4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+',
                offsetx: 10,
                offsety: 40,
                width: 36,
                height: 40
            },
            OTHERS: {
                url: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzVweCIgaGVpZ2h0PSI0MXB4IiB2aWV3Qm94PSIwIDAgMzUgNDEiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+cGluLWxvY2F0aW9uX3N0b3A8L3RpdGxlPgogICAgPGcgaWQ9Ildvcmstb3JkZXIsLW1hcC12aWV3LSh1cGRhdGVkLXMzMykiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSI2Li1CYWRnZXMtKy1UYWdzL0xvY2F0aW9uLVBpbnMvMzJweC9kYXJrLUNvcHktMjMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xOS45NDk4MTEsIC03LjUwMDUwMCkiPgogICAgICAgICAgICA8cGF0aCBkPSJNMzIsMTUuMDAxMDE5OCBDMjUuNDYwOTE3NiwxNC45MTYwOTg5IDIwLjA4OTc3NSwyMC4xNDU2Mzg2IDIwLDI2LjY4NDY1NjEgQzIwLjAwMjc1NzcsMjkuMjIzODI3MSAyMC44NDY3MzE1LDMxLjY5MDUzMiAyMi40LDMzLjY5OTIwMTYgTDMyLDQ3LjcyODI5MjUgTDQxLjYsMzMuNjk5MjAxNiBDNDMuMTUzMjY4NSwzMS42OTA1MzIgNDMuOTk3MjQyMywyOS4yMjM4MjcxIDQ0LDI2LjY4NDY1NjEgQzQzLjkxMDIyNSwyMC4xNDU2Mzg2IDM4LjUzOTA4MjQsMTQuOTE2MDk4OSAzMiwxNS4wMDEwMTk4IFoiIGlkPSJQaW4tQmFja2dyb3VuZCIgZmlsbD0iIzM5MzkzOSI+PC9wYXRoPgogICAgICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxLjUwMDAwMCwgMTcuMDAwMDAwKSIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMy41MDAwMDAsIDMuNTAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcsMC44NzUgQzMuNjE3MjU1OTEsMC44NzUgMC44NzUsMy42MTcyNTU5MSAwLjg3NSw3IEMwLjg3NSwxMC4zODI3NDQxIDMuNjE3MjU1OTEsMTMuMTI1IDcsMTMuMTI1IEMxMC4zODI3NDQxLDEzLjEyNSAxMy4xMjUsMTAuMzgyNzQ0MSAxMy4xMjUsNyBDMTMuMTI1LDUuMzc1NTQ5IDEyLjQ3OTY4OTQsMy44MTc2MzEyOCAxMS4zMzEwMjksMi42Njg5NzA5NyBDMTAuMTgyMzY4NywxLjUyMDMxMDY1IDguNjI0NDUxLDAuODc1IDcsMC44NzUgWiBNNywxMi4yNSBDNC4xMDA1MDUwNiwxMi4yNSAxLjc1LDkuODk5NDk0OTQgMS43NSw3IEMxLjc1LDQuMTAwNTA1MDYgNC4xMDA1MDUwNiwxLjc1IDcsMS43NSBDOS44OTk0OTQ5NCwxLjc1IDEyLjI1LDQuMTAwNTA1MDYgMTIuMjUsNyBDMTIuMjUsOS44OTk0OTQ5NCA5Ljg5OTQ5NDk0LDEyLjI1IDcsMTIuMjUgTDcsMTIuMjUgWiBNNyw0LjM3NSBDNS41NTAyNTI1Myw0LjM3NSA0LjM3NSw1LjU1MDI1MjUzIDQuMzc1LDcgQzQuMzc1LDguNDQ5NzQ3NDcgNS41NTAyNTI1Myw5LjYyNSA3LDkuNjI1IEM4LjQ0OTc0NzQ3LDkuNjI1IDkuNjI1LDguNDQ5NzQ3NDcgOS42MjUsNyBDOS42MjUsNS41NTAyNTI1MyA4LjQ0OTc0NzQ3LDQuMzc1IDcsNC4zNzUgWiIgaWQ9IkZpbGwiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8ZyBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDguMDAwMDAwKSIgZmlsbD0iIzM5MzkzOSI+CiAgICAgICAgICAgICAgICA8cmVjdCB4PSI0NCIgeT0iMCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIj48L3JlY3Q+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==',
                offsetx: 10,
                offsety: 40,
                width: 36,
                height: 40
            }
        };
        return legends;
    }

    createSymbology(params) {
        let features = params.features;
        const legends = params.legends;
        let legend = null;

        // Is a Cluster
        if (features.length > 1) {
            legend = legends['CLUSTER'];
        } else {
            // Just a single feature
            let status = this.getStatus(features[0]);
            if (status.toUpperCase() === 'OPERATING') {
                legend = legends['OPERATING'];
            } else {
                legend = legends['OTHERS'];
            }
        }
        const symbol = Object.assign(legend, {
            color: '',
            offsetx: 10,
            offsety: 40,
            width: 48,
            height: 40
        });
        return symbol;
    }
}

export default MapLocationController;
